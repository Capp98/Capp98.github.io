<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://kit.fontawesome.com/cd7fbace7b.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="css/normalize.css">

    <link rel="stylesheet" href="css/estilo.css">
    <title>Home - Plantas</title>
</head>

<body onscroll="sidenavToTop()">
    <header>
        <h1>Acervo do jardim</h1>
    </header>

    <main>
        <aside>
            <span onclick="show(this)">></span>
            <nav>
                <ul>
                    <li><input id="searchbar" placeholder="Pesquisar" aria-placeholder="Pesquisa no site"
                            onkeyup="searchPlants()" type="search">
                    </li>
                    <li class="viewToggler">
                        <a onclick="toggleView(this)" href="#">
                            <i class="fa-solid fa-table-list"></i>
                        </a>
                    </li>
                    <!-- <li><a onclick="searchByTag(this)" href="#">Aquáticas</a></li> -->
                    <li><a onclick="searchByTag(this)" href="#">Arbustos</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Árvores</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Cactos</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Flores</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Folhagens</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Forrações</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Frutíferas</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Grãos</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Hortaliças</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Orquídeas</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Palmeiras</a></li>
                    <li><a onclick="searchByTag(this)" href="#">PANCs</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Suculentas</a></li>
                    <li><a onclick="searchByTag(this)" href="#">Trepadeiras</a></li>
                </ul>
            </nav>
        </aside>

        <section id="plantas">

            <!-- #Estrutura modelo# 
                <article class="Rafia">
                <div>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/7/7d/Rhapis_excelsa.jpg" alt="">
                </div>
                <a href="#">
                    <h2>Ráfia</h2>
                    <h4 class="tag">Palmeiras | Arbustos</h4>
                    <div>
                        <h4>Iluminação</h4>
                        <span class="cinquenta"></span>
                        <div>
                            <i class="fa-solid fa-cloud"></i>
                            <i class="fa-solid fa-cloud-sun"></i>
                            <i class="fa-solid fa-sun"></i>
                        </div>
                        <h4>Água</h4>
                        <span class="cinquenta"></span>
                        <div>
                            <i class="fa-solid fa-glass-water-droplet"></i>
                            <i class="fa-solid fa-glass-water"></i>
                            <i class="fa-solid fa-bottle-water"></i>
                        </div>
                    </div>
                </a>
            </article> -->


        </section>

    </main>
    <script>

        const toggleView = () => {
            document.getElementById('plantas').classList.toggle('expandido');
            document.querySelector('.viewToggler i').classList.toggle('fa-table-cells-large')
            document.querySelector('.viewToggler i').classList.toggle('fa-table-list')
        }

        const sidenavToTop = () => {
            let headerAltura = document.querySelector('header').offsetHeight

            if ((document.body.offsetWidth + 15) <= 768) {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > headerAltura) {
                    document.querySelector('aside').style.top = '0em'
                } else {
                    document.querySelector('aside').style.top = '3em'
                }
            } else if (window.innerHeight >= 600) {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > headerAltura) {
                    document.querySelector('aside').style.paddingTop = '3%'
                } else {
                    document.querySelector('aside').style.paddingTop = '15px'    
                }
            } else {
                document.querySelector('aside').style.paddingTop = '15px'
            }
        }

        const json =
            [
                {
                    "id": 1,
                    "imgURL": "https://upload.wikimedia.org/wikipedia/commons/7/7d/Rhapis_excelsa.jpg",
                    "nome": "Ráfia",
                    "tags": ["Arbustos", "Palmeiras"],
                    "iluminacao": "cinquenta",
                    "agua": "cinquenta"
                },
                {
                    "id": 2,
                    "imgURL": "https://hmjardins.com.br/tok/wp-content/uploads/2015/06/Alfinetes-de-Dama.jpg",
                    "nome": "Aspargo Pendente",
                    "tags": ["Arbustos", "Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": "cem"
                },
                {
                    "id": 3,
                    "imgURL": "https://s2.glbimg.com/T3SPz9_QPyp7cWonF-57nGrnxRs=/512x320/smart/e.glbimg.com/og/ed/f/original/2022/02/02/flores_1.jpg",
                    "nome": "Maria-sem-vergonha",
                    "tags": ["Flores"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 4,
                    "imgURL": "http://cdn.shopify.com/s/files/1/0255/9760/8011/products/88485-01-BAKI.jpg?v=1639535686",
                    "nome": "Begônia Beleaf",
                    "tags": ["Flores", "Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": "cem"
                },
                {
                    "id": 5,
                    "imgURL": "https://cdn11.bigcommerce.com/s-zcaei8b2q4/images/stencil/480x480/products/3356/5368/kalanchoe-blossfeldiana-demeter-orange__73663.1615749913.jpg?c=1",
                    "nome": "Kalanchoe",
                    "tags": ["Flores"],
                    "iluminacao": "setentaecinco",
                    "agua": ""
                },
                {
                    "id": 6,
                    "imgURL": "https://www.cultivando.com.br/wp-content/uploads/2016/08/vei-de-noiva-e1471278510488.jpg",
                    "nome": "Véu de Noiva",
                    "tags": ["Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": "cem"
                },
                {
                    "id": 7,
                    "imgURL": "https://bs.plantnet.org/image/o/58dab0b61dd48edff51c57394683139cb294ade8",
                    "nome": "Espirradeira",
                    "tags": ["Arbustos", "Flores"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 8,
                    "imgURL": "https://i0.wp.com/guiadecomoplantar.com/wp-content/uploads/2019/10/Como-Plantar-Ger%C3%A2nio.jpg?resize=648%2C432&ssl=1",
                    "nome": "Gerânio",
                    "tags": ["Flores"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 9,
                    "imgURL": "https://cf.shopee.com.br/file/bb581689ee643f1bd92d63779fa12396",
                    "nome": "Hera Estrela",
                    "tags": ["Folhagens", "Forrações"],
                    "iluminacao": "setentaecinco",
                    "agua": "cem"
                },
                {
                    "id": 10,
                    "imgURL": "https://s2.glbimg.com/K5EywHvZM2LzirvLBmZH9iEMtm4=/780x440/e.glbimg.com/og/ed/f/original/2018/04/20/basil-total-2759319_1280.jpg",
                    "nome": "Manjericão",
                    "tags": ["Hortaliças"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 11,
                    "imgURL": "https://ornamentalis.com/wp-content/uploads/2018/02/violeta-africana-porque-no-florece-750x588.jpg",
                    "nome": "Violeta",
                    "tags": ["Flores"],
                    "iluminacao": "cinquenta",
                    "agua": ""
                },
                {
                    "id": 12,
                    "imgURL": "https://www.mundoecologia.com.br/wp-content/uploads/2019/12/Cacto-Rhipsalis-De-Flor-Amarela-6.jpg",
                    "nome": "Ripsális",
                    "tags": ["Suculentas"],
                    "iluminacao": "vintecinco",
                    "agua": ""
                },
                {
                    "id": 13,
                    "imgURL": "https://conteudo.imguol.com.br/blogs/221/files/2020/06/iStock-1005388108.jpg",
                    "nome": "Peixinho",
                    "tags": ["PANCs"],
                    "iluminacao": "vintecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 14,
                    "imgURL": "https://www.floresefolhagens.com.br/wp-content/uploads/2015/05/cineraria-maritima-senecio-douglasii-1-6.jpg",
                    "nome": "Cinerária Maritima",
                    "tags": ["Folhagens", "Forrações"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 15,
                    "imgURL": "https://cf.shopee.com.br/file/ecd642df269b12d27e619177e5588797",
                    "nome": "Trevo Roxo",
                    "tags": ["Folhagens", "PANCs"],
                    "iluminacao": "setentaecinco",
                    "agua": ""
                },
                {
                    "id": 16,
                    "imgURL": "https://vivoplantas.com.br/wp-content/uploads/2017/12/malva.jpg",
                    "nome": "Malva Cheirosa",
                    "tags": ["Folhagens"],
                    "iluminacao": "cem",
                    "agua": "cem"
                },
                {
                    "id": 17,
                    "imgURL": "https://construindodecor.com.br/wp-content/uploads/2018/04/Arvore-Felicidade.jpg",
                    "nome": "Árvore da Felicidade",
                    "tags": ["Arbustos"],
                    "iluminacao": "cinquenta",
                    "agua": "cinquenta"
                },
                {
                    "id": 18,
                    "imgURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Aloysia_citriodora_002.jpg/1200px-Aloysia_citriodora_002.jpg",
                    "nome": "Lúcia Lima",
                    "tags": ["Arbustos"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 19,
                    "imgURL": "https://www.jardimdasideias.com.br/wp-content/uploads/2018/11/planta-peixinho-418x315.png",
                    "nome": "Columéia",
                    "tags": ["Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": ""
                },
                {
                    "id": 20,
                    "imgURL": "https://i.ytimg.com/vi/T3yF39UpdA8/maxresdefault.jpg",
                    "nome": "Clorofito",
                    "tags": ["Folhagens"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 21,
                    "imgURL": "https://t1.uc.ltmcdn.com/pt/posts/6/2/9/flor_de_maio_caindo_as_folhas_17926_4_600.webp",
                    "nome": "Flor de Maio",
                    "tags": ["Flores", "Suculentas"],
                    "iluminacao": "cinquenta",
                    "agua": "cinquenta"
                },
                {
                    "id": 22,
                    "imgURL": "https://p2.trrsf.com/image/fget/cf/940/0/images.terra.com/2020/05/27/clusia-pinterest.jpg",
                    "nome": "Clúsia",
                    "tags": ["Arbustos"],
                    "iluminacao": "setentaecinco",
                    "agua": "cem"
                },
                {
                    "id": 23,
                    "imgURL": "http://4.bp.blogspot.com/-h7zyQZQoPs8/T4bNbn2RdDI/AAAAAAAAMrY/-maGThKSQ8w/s1600/Acalifa+3.jpg",
                    "nome": "Acalifa Verde",
                    "tags": ["Arbustos"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 24,
                    "imgURL": "https://proctorsnursery.co.uk/wp-content/uploads/2021/02/Salvia-Pink-Pong-NWP-WEB.jpg",
                    "nome": "Sálvia Rosa",
                    "tags": ["Arbustos", "Flores"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 25,
                    "imgURL": "https://i.ytimg.com/vi/rf9JyOXTsp8/maxresdefault.jpg",
                    "nome": "Flor Camarão",
                    "tags": ["Arbustos"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 26,
                    "imgURL": "https://i.pinimg.com/originals/5f/9d/b9/5f9db97cce8379962bdedb097f250a65.jpg",
                    "nome": "Fitônia",
                    "tags": ["Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": "cem"
                },
                {
                    "id": 27,
                    "imgURL": "https://www.coisasdaroca.com/wp-content/uploads/2019/06/Hibisco.jpg",
                    "nome": "Hibisco",
                    "tags": ["Arbustos", "Flores"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 28,
                    "imgURL": "https://ciclovivo.com.br/wp-content/uploads/2020/08/herbs-5117039_1280-1024x682.jpg",
                    "nome": "Alecrim",
                    "tags": ["Hortaliças"],
                    "iluminacao": "cem",
                    "agua": ""
                },
                {
                    "id": 29,
                    "imgURL": "https://minhasplantas.s3.amazonaws.com/media/plantas/galeria/clerodendro-vermelho.jpg",
                    "nome": "Clerodendro Vermelho",
                    "tags": ["Trepadeiras"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 30,
                    "imgURL": "https://joov.com.br/images/saiba-tudo-sobre-a-hortela-pimenta-e-a-hortela-verde-image.jpg",
                    "nome": "Hortelã",
                    "tags": ["Hortaliças"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 31,
                    "imgURL": "https://www.simplichique.com.br/wp-content/uploads/2017/02/jiboia-na-decora%C3%A7%C3%A3o-13.jpg",
                    "nome": "Jiboia",
                    "tags": ["Folhagens", "Trepadeiras"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 32,
                    "imgURL": "https://minhasplantas.s3.amazonaws.com/media/plantas/galeria/Lavandula-dentata-10.jpg",
                    "nome": "Lavanda",
                    "tags": ["Flores"],
                    "iluminacao": "cem",
                    "agua": ""
                },
                {
                    "id": 33,
                    "imgURL": "https://1.bp.blogspot.com/-m-7di13bTN0/W660oTTsGzI/AAAAAAAAK1s/kPqde-Dq09sHe0IeJYnZNoKmu9bfg3qcQCLcBGAs/s1600/DSC09788.JPG",
                    "nome": "Bálsamo",
                    "tags": ["Suculentas"],
                    "iluminacao": "setentaecinco",
                    "agua": ""
                },
                {
                    "id": 34,
                    "imgURL": "https://http2.mlstatic.com/D_NQ_NP_796819-MLB40355568420_012020-O.jpg",
                    "nome": "Bola de Neve Mexicana",
                    "tags": ["Suculentas"],
                    "iluminacao": "setentaecinco",
                    "agua": ""
                },
                {
                    "id": 35,
                    "imgURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Portulaca_grandiflora_in_Sedovo_002.jpg/1280px-Portulaca_grandiflora_in_Sedovo_002.jpg",
                    "nome": "Onze Horas",
                    "tags": ["Suculentas"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 36,
                    "imgURL": "https://casa.abril.com.br/wp-content/uploads/2021/08/como-cultivar-anturio-casa.com-7-the-healthy-house-plant.jpg?quality=95&strip=info&w=1024",
                    "nome": "Antúrio",
                    "tags": ["Flores"],
                    "iluminacao": "vintecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 37,
                    "imgURL": "https://ciclovivo.com.br/wp-content/uploads/2019/07/rosa-vermelha-no-jardim-1024x683.jpg",
                    "nome": "Rosa",
                    "tags": ["Flores"],
                    "iluminacao": "cem",
                    "agua": "vintecinco"
                },
                {
                    "id": 38,
                    "imgURL": "https://minhasplantas.s3.amazonaws.com/media/plantas/galeria/Arundina-bambusifolia-02.jpg",
                    "nome": "Arundina",
                    "tags": ["Flores", "Orquídeas"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 39,
                    "imgURL": "https://www.bertoncelogarden.com.br/wp-content/uploads/2021/09/jasmim-estrela-1-800x667.png",
                    "nome": "Jasmim estrela",
                    "tags": ["Arbustos", "Trepadeiras"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 40,
                    "imgURL": "https://blog.plantei.com.br/wp-content/uploads/2017/12/Babosa-Capa-1.jpg",
                    "nome": "Babosa",
                    "tags": ["Suculentas"],
                    "iluminacao": "setentaecinco",
                    "agua": "vintecinco"
                },
                {
                    "id": 41,
                    "imgURL": "https://http2.mlstatic.com/D_NQ_NP_855238-MLB28343186089_102018-O.jpg",
                    "nome": "Cróton",
                    "tags": ["Arbustos"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 42,
                    "imgURL": "https://www.tuacasa.com.br/wp-content/uploads/2019/06/bromelia-4-730x449.jpg",
                    "nome": "Neoregélia",
                    "tags": ["Bromélia"],
                    "iluminacao": "cinquenta",
                    "agua": "cinquenta"
                },
                {
                    "id": 43,
                    "imgURL": "https://folhago.com.br/blogs/viagens-baratas/wp-content/uploads/2021/12/como-cultivar-zamioculca-1.png",
                    "nome": "Zamioculca",
                    "tags": ["Folhagens"],
                    "iluminacao": "cinquenta",
                    "agua": ""
                },
                {
                    "id": 44,
                    "imgURL": "http://static3.tcdn.com.br/img/img_prod/450860/muda_de_dracena_tricolor_322_3_20190611093734.jpg",
                    "nome": "Dracena Tricolor",
                    "tags": ["Folhagens"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 45,
                    "imgURL": "https://www.floresefolhagens.com.br/wp-content/uploads/2019/08/angelonia-angelonia-angustifolia.jpg",
                    "nome": "Angelônia",
                    "tags": ["Flores"],
                    "iluminacao": "cem",
                    "agua": "cinquenta"
                },
                {
                    "id": 46,
                    "imgURL": "https://www.sitiodamata.com.br/pub/media/catalog/product/cache/02a967fa0e464fd60865ccf512e40f92/d/i/dipladenia-mandevilla-splendens-1-1-e1608183614996.jpg",
                    "nome": "Jasmim Brasileiro",
                    "tags": ["Arbustos", "Trepadeiras"],
                    "iluminacao": "setentaecinco",
                    "agua": "cinquenta"
                },
                {
                    "id": 47,
                    "imgURL": "https://guiadecomoplantar.com/wp-content/uploads/2020/10/Planta-Tapete-Saiba-Tudo-Sobre-Essa-Planta.jpg",
                    "nome": "Planta Tapete",
                    "tags": ["Flores"],
                    "iluminacao": "cinquenta",
                    "agua": "cinquenta"
                }
            ]

        function show(element) {
            let a = element;
            let s = element.nextElementSibling;
            console.log(s.style.left);
            if (s.style.left != '0px') {
                s.style.left = '0px';
                element.innerHTML = '<'
            } else {
                element.innerHTML = '>'
                s.style.left = '-280px';
            }
        }

        function createViews() {
            let plantas = document.getElementById('plantas')
            json.map(planta => {
                let img = document.createElement('img');
                let divImg = document.createElement('div');
                let article = document.createElement('article');
                article.id = planta.id;
                article.className = planta.nome

                img.src = planta.imgURL;
                img.alt = planta.nome;
                divImg.appendChild(img);
                article.appendChild(divImg)

                let a = document.createElement('a');
                a.href = '#'
                let h2 = document.createElement('h2');
                h2.innerHTML = planta.nome
                let h4 = document.createElement('h4');
                h4.className = 'tag'
                planta.tags.forEach((tag, index) => {
                    article.classList.add(tag)
                    h4.innerHTML += index === 0 ? tag : ` | ${tag}`;
                })
                a.appendChild(h2)
                a.appendChild(h4)

                let divInfos = document.createElement('div');
                h4 = document.createElement('h4');
                h4.innerHTML = 'Iluminação'
                let span = document.createElement('span');
                span.className = planta.iluminacao
                divInfos.appendChild(h4)
                divInfos.appendChild(span)

                let divLight = document.createElement('div');

                let i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-cloud')
                divLight.appendChild(i)
                i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-cloud-sun')
                divLight.appendChild(i)
                i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-sun')
                divLight.appendChild(i)

                divInfos.appendChild(divLight)
                let divWater = document.createElement('div');

                span = document.createElement('span');
                h4 = document.createElement('h4');
                h4.innerHTML = 'Água'
                span.className = planta.agua
                divInfos.appendChild(h4)
                divInfos.appendChild(span)

                i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-glass-water-droplet')
                divWater.appendChild(i)
                i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-glass-water')
                divWater.appendChild(i)
                i = document.createElement('i');
                i.classList.add('fa-solid', 'fa-bottle-water')
                divWater.appendChild(i)

                divInfos.appendChild(divWater)

                a.appendChild(divInfos)
                article.appendChild(a)
                plantas.appendChild(article)
            })
        }

        function searchPlants() {
            let plantas = document.getElementById('plantas').children;
            let input = document.getElementById('searchbar').value
            input = input.toLowerCase();
            console.log(input);
            if (input === '') {
                plantas = Array.from(plantas)
                plantas.forEach(view => view.style.display = "initial");
            } else {
                for (i = 0; i < plantas.length; i++) {
                    if (!plantas[i].innerHTML.toLowerCase().includes(input)) {
                        plantas[i].style.display = "none";
                    }
                    else {
                        plantas[i].style.display = "initial";
                    }
                }
            }
        }

        function searchByTag(e) {
            e.classList.toggle('selecionado')

            let tags = Array.from(document.getElementsByClassName('selecionado'));
            let plantas = document.getElementById('plantas').children;

            if (tags.length === 0) {
                plantas = Array.from(plantas)
                plantas.forEach(view => view.style.display = "initial");
            } else {
                let tagcollection = ''
                tags.forEach(tag => tagcollection += `${tag.innerHTML} `)
                for (i = 0; i < plantas.length; i++) {
                    if (!plantas[i].className.includes(tagcollection.trim())) {
                        plantas[i].style.display = "none";
                    }
                    else {
                        plantas[i].style.display = "initial";
                    }
                }
            }
        }

        createViews();
    </script>
</body>

</html>